<!-- Community Areas Partial -->
<div class="areas-grid">
    <% areas.forEach(area => { %>
    <div class="area-card">
        <div class="area-icon">
            <% if (area.image_url) { %>
                <img src="<%= area.image_url %>" alt="<%= area.name %>" />
            <% } else { %>
                üìç
            <% } %>
        </div>
        <h3><%= area.name %></h3>
        <p><%= area.description %></p>
        
        <% if (showActivities !== false && area.upcomingEvents && area.upcomingEvents.length > 0) { %>
        <div class="area-activities">
            <h4><%= showActivities === 'current' ? 'Current Activities:' : 'Available Activities:' %></h4>
            <ul>
                <% area.upcomingEvents.forEach(event => { %>
                <li><%= event.title %> - <%= new Date(event.date).toLocaleDateString() %></li>
                <% }) %>
            </ul>
        </div>
        <% } %>
        
        <% if (showActions !== false) { %>
        <div class="area-actions">
            <% if (isHomepage) { %>
                <a href="/events?category=<%= area.id %>" class="area-button">See all events</a>
            <% } else { %>
                <a href="/events?category=<%= area.id %>" class="btn-primary">Get Involved</a>
                <button class="btn-secondary">Learn More</button>
            <% } %>
        </div>
        <% } %>
    </div>
    <% }) %>
</div>